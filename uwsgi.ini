[uwsgi]
# Django项目配置
module = legacy_pi_backend.wsgi:application
master = true
processes = 4
threads = 2
max-requests = 1000
harakiri = 120

# 网络配置
http = 0.0.0.0:8000
vacuum = true
die-on-term = true

# 日志配置
logto = /var/log/uwsgi/uwsgi.log

# 环境变量
env = DJANGO_SETTINGS_MODULE=legacy_pi_backend.settings

# 安全配置 (容器内不需要)
# uid = www-data
# gid = www-data
# chown-socket = www-data:www-data

# 插件 - 使用内置Python支持
# plugins = python3

# 优雅关闭
reload-mercy = 10
worker-reload-mercy = 10
